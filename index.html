<!DOCTYPE html> 
<html>
<head>
	<meta charset="utf-8" />
	<title>Monitor App</title> 
	<link rel="manifest" href="manifest.json">
</head> 
<body style="font-family:Arial; text-align:center; margin-top:500px;"> 

	<div id="notifica" 
		style=" position: fixed; 
		top: -100px; 
		left: 50%; 
		transform: translateX(-50%); 
		background-color: #28a745; 
		color: white; 
		padding: 20px 30px; 
		border-radius: 10px; 
		font-size: 24px; 
		box-shadow: 0 4px 10px rgba(0,0,0,0.3); 
		transition: top 0.4s ease; 
		z-index: 9999; 
		"> 
	</div>
	<button onclick="mostra()"
		style="background-color: purple;
		font-size:100px; 
		padding:30px 60px;"
		>Premi qui</button> 
	<div id="msg" style="margin-top:100px; font-size:100px;"></div> 

	<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2">

		
	<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
    const supabase = supabase.createClient(
        "https://ixarnqyrsonhshkctcki.supabase.co",
        "sb_publishable_pGINBChZ1U3J4xUEvb0XtQ_pR7wc9eZ"
    );

    async function mostra() {
        document.getElementById("msg").innerText = "THE GOOD DAIRY!";
        mostraNotifica("Azione eseguita");

        const { data, error } = await supabase
            .from("magazzino")
            .insert([
                {
                    id: crypto.randomUUID(),
                    quantita: 1,
                    prodotto: "TEST",
                    percorsoimmagine: "LALALALALLALALA"
                }
            ]);

        if (error) {
            console.error(error);
            mostraNotifica("Errore inserimento!");
        } else {
            mostraNotifica("Riga inserita!");
            console.log("Inserito:", data);
        }
    }

    function mostraNotifica(testo) {
        const n = document.getElementById("notifica");
        n.innerText = testo;
        n.style.top = "20px";
        setTimeout(() => {
            n.style.top = "-100px";
        }, 10000);
    }
</script>

</body>

</html>











